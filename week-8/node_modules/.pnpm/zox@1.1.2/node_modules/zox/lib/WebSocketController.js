"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class WebSocketController {
    handle(request, ws) {
        this.request = request;
        this.ws = ws;
        this.init();
        ws.on('message', this.onMessage.bind(this));
    }
    queryStr(key) {
        const val = this.query[key];
        if (typeof val !== 'undefined') {
            return Array.isArray(val) ? val.join() : val;
        }
        return '';
    }
    hasQuery(key) {
        return typeof this.query[key] !== 'undefined';
    }
    send(data) {
        this.ws.send(JSON.stringify(data));
    }
}
exports.WebSocketController = WebSocketController;
//# sourceMappingURL=WebSocketController.js.map